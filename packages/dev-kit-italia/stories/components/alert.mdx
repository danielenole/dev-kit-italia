import { Meta, Story, Canvas, Controls } from '@storybook/addon-docs/blocks';
import * as Stories from './alert.stories';

<Meta of={Stories} />

# Alert

<description>Breve messaggio di testo con uno stile grafico distintivo per avvisare gli utenti di un evento o di un'azione che richiede la loro attenzione</description>

## Cosa fa

Il componente Alert permette di creare messaggi di avviso per gli utenti.
Questi messaggi sono utili per comunicare informazioni importanti o per avvisare gli utenti di situazioni che richiedono la loro attenzione,
contestualmente al flusso di navigazione e senza provocare interruzioni.

Un alert è usato per messaggi immediati e temporanei, come:

- **errori** o problemi tecnici;
- **eventi importanti** per cui è richiesta attenzione, come una scadenza imminente o un imprevisto;
- **conferme** di completamento.

[Approfondisci come e quando usare il componente Alert](https://designers.italia.it/design-system/componenti/alert/)

### Alternative a questo componente

- Callout (in lavorazione): permette di evidenziare delle informazioni testuali in pagina.
- Modal (in lavorazione): avvisa l'utente di azioni necessarie da compiere.
- Notifications (in lavorazione): avvisi a comparsa temporanei in sovraimpressione sulla schermata.

## Anteprima del componente

Gli avvisi sono disponibili in quattro tipologie diverse e sono adatti a qualsiasi lunghezza di testo.

<Canvas of={Stories.Esempi} />

## Accessibilità

L'uso del colore per aggiungere un significato fornisce solo un'indicazione visiva,
e non viene trasmesso agli utenti di tecnologie assistive come gli screen reader.
Assicurati che le informazioni denotate dal colore siano rese disponibili anche dal contenuto stesso (es.: il testo visibile),
o siano incluse attraverso mezzi alternativi, come testo aggiuntivo nascosto con la classe `.visually-hidden`.

Se l'alert include un pulsante di chiusura, l'`aria-label` che assegna il nome accessibile all'icona di chiusura deve essere valorizzato con contenuti correlati al contesto ("chiudi nota", "chiudi", "nascondi", ecc).

## Link evidenziato

Usa la classe `.alert-link` per dare risalto ad un link all'interno dell'alert.

<Canvas of={Stories.LinkEvidenziato} />

## Contenuto aggiuntivo

I messaggi di avviso possono avere del contenuto HTML aggiuntivo come intestazioni, paragrafi e divisori.

**Nota bene**: l'intestazione `h4` all'interno dell'alert è stata usata solo a scopo dimostrativo.
Utilizza sempre i tag di intestazione in modo coerente con la gerarchia della pagina.

<Canvas of={Stories.ContenutoAggiuntivo} />

## Chiusura

È possibile eliminare qualsiasi avviso mediante un pulsante di chiusura:

- Inserisci il pulsante di chiusura e la classe `.alert-dismissible`, verrà così aggiunto un ulteriore padding alla destra dell'avviso e posizionerà correttamente il pulsante `.btn-close`.
- Assicurati di utilizzare l'elemento `<it-button>` per un comportamento corretto del pulsante di chiusura su tutti i dispositivi.
- Assicurati di aggiungere le classi `.fade` e `.show` per animare gli avvisi quando li si elimina.

Qui sotto trovi un esempio di implementazione del codice JavaScript necessario per la chiusura dell'alert.
Puoi usarlo così com'è oppure adattarlo alle tue esigenze.

```javascript
function handleClose(event) {
  const alertElement = event.target.closest('.alert');
  if (alertElement) {
    alertElement.classList.remove('show');
    setTimeout(() => {
      alertElement.remove();
    }, 150);
  }
}

document.querySelectorAll('.alert .btn-close').forEach(button => {
  button.addEventListener('click', handleClose);
});
```

Clicca sul pulsante di chiusura per vedere la funzionalità di rimozione alert in azione:

<Canvas of={Stories.Chiusura} />
