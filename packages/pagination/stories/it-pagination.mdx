import { Meta, Story, Canvas, Controls, Description } from '@storybook/addon-docs/blocks';
import * as PaginationStories from './it-pagination.stories';

<Meta of={PaginationStories} />

# Pagination

<description>Barra di navigazione per scorrere una lista di contenuti disposti su più pagine.</description>

## Cosa fa
Usa il componente Pagination quando hai molti contenuti o dati correlati che non possono essere mostrati tutti su una singola pagina. È particolarmente utile nei casi in cui è necessario navigare attraverso diverse pagine, come per i risultati di ricerca ed elenchi di prodotti, servizi o notizie.

[Approfondisci quando e come usare il componente Pagination](https://designers.italia.it/design-system/componenti/paginazione/)

### Alternative a questo componente
- [Button](/docs/componenti-button--documentazione): usa un pulsante “mostra di più” per caricare più contenuti al click/tap per fornire un flusso continuo di contenuti sulla stessa pagina (infinite scroll).

## Anteprima e attributi del componente

Modifica gli attributi nella tabella per personalizzare in tempo reale l'aspetto e il comportamento del componente. Per vedere come cambia il codice, clicca su **Show code**.

<Canvas of={PaginationStories.EsempioInterattivo} />

<Controls of={PaginationStories.EsempioInterattivo} />

## Informazioni generali

Il componente Pagination è composto da due elementi:

- `it-pagination`: contenitore della paginazione che gestisce lo stato della pagina corrente
- `it-pagination-item`: singolo elemento della paginazione che contiene il link alla pagina

Per garantire la massima flessibilità e compatibilità con diversi framework, il componente `it-pagination` non genera automaticamente gli elementi di paginazione.
È necessario aggiungere manualmente gli elementi `it-pagination-item` come figli di `it-pagination`, in modo da poter personalizzare i link e il loro comportamento.

All'interno di ogni `it-pagination-item`, puoi inserire un link (ad esempio un elemento `<a>`) per gestire la navigazione tra le pagine: se stai utilizzando un framework come React, NextJS, Angular o Vue.js, puoi integrare i componenti di routing del framework all'interno degli elementi `it-pagination-item`. Segui le best practice del tuo framework per gestire la navigazione tra le pagine e/o integrare il tuo sistema di paginazione.

Il componente `it-pagination` supporta i seguenti slot:

- **default**: per gli elementi `it-pagination-item`
- **prev**: per il pulsante/link di navigazione alla pagina precedente
- **next**: per il pulsante/link di navigazione alla pagina successiva
- **page-changer**: per un eventuale selettore di pagina
- **jump-to-page**: per un eventuale campo di salto a una pagina specifica
- **total**: per mostrare il numero totale di pagine

Il componente `it-pagination-item` supporta i seguenti attributi:
- `page`: numero della pagina rappresentata dall'elemento, obbligatorio
- `current`: indica se l'elemento rappresenta la pagina corrente, opzionale
- `disabled`: indica se l'elemento è disabilitato, opzionale

Il componente `it-pagination-item` espone il solo slot **default** per inserire il link alla pagina.

## Accessibilità

Il componente `it-pagination` è progettato per essere accessibile e conforme alle linee guida WCAG:
- Gli elementi di paginazione sono implementati come link, consentendo agli utenti di navigare tra le pagine utilizzando il tasto Tab e attivare i link con il tasto Invio o la barra spaziatrice.
- Il componente utilizza ruoli ARIA appropriati per indicare la struttura della paginazione agli screen reader.
- L'elemento della pagina corrente è indicato con l'attributo `aria-current="page"` per informare gli utenti dello screen reader sulla pagina attiva.
- I link di navigazione alla pagina precedente e successiva sono etichettati in modo chiaro per gli screen reader.
- I link che consentono di passare alla pagina successiva o precedente sono disabilitati quando l'utente si trova rispettivamente all'inizio o alla fine della paginazione, evitando confusione. Tali link assumono uno stato visivo disabilitato e viene aggiunto l'attributo `aria-disabled="true"`.
- Eventuali separatori o ellissi utilizzati per indicare pagine non visualizzate non sono interattivi e non sono inclusi nella tabulazione.

Per garantire la massma accesibilità, ricordati di seguire queste linee guida:
- Fornisci etichette significative per i link di navigazione alla pagina precedente e successiva quando utilizzi gli slot `prev` e `next`.
- Fornisci sempre un link semanticamente valido all'interno di ogni elemento `it-pagination-item`.
- Valorizza sempre l'attributo `it-aria-label` sull'elemento `it-pagination` per descrivere il contesto della paginazione (ad esempio "Paginazione articoli", "Paginazione risultati di ricerca", ecc.).

<div class="callout callout-warning">
  <div class="callout-inner">
    <div class="callout-title">
      <span class="text">Nota sui test di accessibilità</span>
    </div>
    <p>
      Axe e altri strumenti di analisi statica possono segnalare falsi positivi quando analizzano il componente `it-pagination` a causa del limitato supporto per i Web Components. La struttura accessibile effettiva è corretta, come confermato dall'Accessibility Tree e dai test manuali con screen reader.
    </p>
  </div>
</div>

## Navigazione con icone

Puoi aggiungere link per la navigazione tra le pagine utilizzando gli slot `prev` e `next` per inserire link con icona, utilizzando le icone (ad esempio l'icona `chevron`) disponibili nel Kit.

Ricordati di aggiungere in questi casi, un elemento con classe `.visually-hidden` all'interno del link, per garantire una corretta comunicazione sulla funzionalità del pulsante per i lettori di schermo.

<Canvas of={PaginationStories.ConNavigazione} />

## Navigazione con link testuali

I link di navigazione possono anche essere testuali. Utilizza gli slot `prev` e `next` per inserire link con testo personalizzato.

<Canvas of={PaginationStories.ConNavigazioneTestuale} />

## Modalità responsive

In modalità responsive, attiva di default, gli elementi di paginazione non attivi vengono nascosti su schermi di piccole dimensioni per migliorare l'usabilità.

Viene mostrato solo l'elemento della pagina corrente, mentre gli altri elementi diventano visibili su schermi più grandi.

Se vuoi disabilitare questo comportamento, aggiungi l'attributo `disable-responsive` ad `it-pagination`: dovrai poi gestire in modo autonomo l'aspetto della paginazione su schermi di diverse dimensioni.

<Canvas of={PaginationStories.Responsive} />

## Numero totale di pagine

Puoi aggiungere un indicatore del numero totale di pagine utilizzando lo slot `total` e inserendo al suo interno un elemento `<p>`

<Canvas of={PaginationStories.ConTotale} />

## More

Quando è presente un grande numero di pagine è consigliabile visualizzare unicamente le pagine più prossime a quella corrente, inserendo delle ellissi (…) fra queste e la prima ed ultima pagina.

Puoi ottenere questo comportamento utilizzando l'attributo `visible-pages`, di default impostato a 5, che indica il numero di pagine visibili intorno a quella corrente.

Il componente mostrerà automaticamente le ellissi quando necessario, oltre alla prima e ultima pagina disponibile.

<Canvas of={PaginationStories.MoreMode} />

## Simple mode

Utilizza l'attributo `simple-mode` per mostrare solo i pulsanti di navigazione alla pagina precedente e successiva, senza gli altri elementi di paginazione.

La paginazione in versione “Simple mode” è ottimizzata per i dispositivi mobile, e può essere utilizzata anche su tablet e desktop quando il numero di pagine è ridotto.
<Canvas of={PaginationStories.SimpleMode} />

## Selettore elementi per pagina

Puoi aggiungere  un selettore per cambiare il numero di elementi mostrati per pagina attraverso lo slot `page-changer`. Dovrai gestire in modo autonomo il comportamento del selettore e l'aggiornamento della paginazione in base al valore selezionato.

Viene fornito un esempio di implementazione di un selettore con un elemento `<select>`.

<Canvas of={PaginationStories.ConPageChanger} />

## Salto ad una pagina specifica

Puoi aggiungere un campo input per saltare direttamente a una pagina specifica utilizzando lo slot `jump-to-page`. Dovrai gestire in modo autonomo il comportamento del campo di input e l'aggiornamento della paginazione in base al valore inserito.

Viene fornito un esempio di implementazione di un campo di salto a pagina con un elemento `<it-input>` di tipo numero.

<Canvas of={PaginationStories.ConJumpToPage} />


## Allineamento

Puoi allineare il componente `it-pagination` a sinistra (default), al centro o a destra, valorizzando l'attributo `alignment` con i valori `start`, `center` o `end`.

### Allineamento a sinistra

<Canvas of={PaginationStories.AllineamentoStart} />
### Allineamento centrato

<Canvas of={PaginationStories.AllineamentoCenter} />

### Allineamento a destra

<Canvas of={PaginationStories.AllineamentoEnd} />

## Proprietà, Metodi, ed Eventi accessibili via js

Il componente espone le seguenti proprietà, metodi ed eventi accessibili via JavaScript.
### Eventi
Il componente emette i seguenti eventi custom:
- `it-pagination-change`: emesso quando la pagina corrente cambia. L'evento fornisce il numero della nuova pagina selezionata nel dettaglio dell'evento (`event.detail`).

## Personalizzazione degli stili
Per la personalizzazione degli stili si possono usare i selettori `::part` dedicati di `it-pagination`:
- `::part(pagination-list)`: per lo stile dell'elemento `<ul>` che contiene gli elementi di paginazione
- `::part(current-page-simple-mode)`: per lo stile dell'elemento che rappresenta la pagina corrente in modalità simple
- `::part(total-pages-simple-mode)`: per lo stile dell'elemento che rappresenta il numero totale di pagine in modalità simple

[Vedi qui la guida dettagliata](/docs/personalizzazione-degli-stili--documentazione#selettore-part).
