import { Meta, Story, Canvas, Controls, Description, Subtitle } from '@storybook/addon-docs/blocks';
import * as AccordionStories from './it-accordion.stories';

<Meta of={AccordionStories} />

# Accordion

<description>Sezione di contenuti espandibile e richiudibile per ottimizzare spazio su pagina e creare collegamenti con contenuti correlati.</description>

Il componente accordion permette di espandere e collassare delle sezioni con contenuti molto lunghi e non principali. L’intestazione delle sezioni dà una panoramica dei contenuti e permette all’utente di scegliere quali leggere.

Il componente Accordion è basato su [Collapse](?path=/docs/componenti-collapse--documentazione) e permette di raggruppare più elementi collassabili in un'unica interfaccia.

[Approfondisci quando e come usare il componente Accordion](https://designers.italia.it/design-system/componenti/accordion/).

### Alternative a questo componente

- [Collapse](?path=/docs/componenti-collapse--documentazione): visivamente meno prominente, utile quando ci sono una o due sezioni di contenuti brevi meno importanti.

- Tabs: mostrano i contenuti senza spingere altre sezioni verso il fondo della pagina e sono utili quando l'utente deve passare velocemente da una sezone all'altra.



## Anteprima e attributi del componente

Modifica gli attributi nella tabella per personalizzare in tempo reale l'aspetto e il comportamento del componente. Per vedere come cambia il codice, clicca su **Show code**.

<Canvas of={AccordionStories.EsempioInterattivo} />


<Controls of={AccordionStories.EsempioInterattivo} />

## Informazioni generali
Il componente Accordion è composto da due elementi:

- `it-accordion`: contenitore che raggruppa più elementi collassabili
- `it-accordion-item`: singolo elemento collassabile all'interno dell'accordion

Ogni `it-accordion-item` utilizza due slot distinti per definire intestazione e contenuto:

- `slot="heading"`: **obbligatorio**, il testo da mostrare nell'header dell'elemento.
- `slot="content"`: **obbligatorio**, il contenuto da mostrare o nascondere.

Modifica gli attributi nella tabella per personalizzare in tempo reale l'aspetto e il comportamento del componente `it-accordion-item`. Per vedere come cambia il codice, clicca su **Show code**.

<Canvas of={AccordionStories.AccordionItem} />

<Controls of={AccordionStories.AccordionItem} />

## Accessibilità
L'accordion implementa le specifiche ARIA [WAI-ARIA Authoring Practices 1.1 accordion pattern](https://www.w3.org/WAI/ARIA/apg/patterns/accordion/) per garantire un'esperienza accessibile a tutti gli utenti:
- Navigazione da tastiera con tasti freccia per spostarsi tra gli elementi
- Supporto per `Space` e `Enter` per attivare/disattivare elementi
- Attributi ARIA appropriati per comunicare lo stato agli screen reader
- Heading semantici configurabili per una corretta struttura del documento
- Rispetto delle preferenze di riduzione del movimento definite dall'utente per le animazioni di apertura/chiusura

## Modalità esclusiva
Di default, più sezioni dell'accordion possono essere aperte contemporaneamente.

In modalità esclusiva, solo una sezione dell'accordion può essere aperta alla volta. Quando si apre una nuova sezione, quella precedentemente aperta si chiude automaticamente.

Per abilitare la modalità esclusiva, assegna all'attributo `mode` il valore `single`.

<Canvas of={AccordionStories.Single} />


## Sfondo degli elementi attivi

Gli elementi dell'accordion possono mostrare uno sfondo primario quando la sezione corrispondente è attiva (aperta).

Per applicare lo sfondo primario agli elementi attivi, imposta l'attributo `background-active` sull'elemento `it-accordion`.

<Canvas of={AccordionStories.HeaderAttivi} />

## Sfondo all'hover degli elementi

Gli elementi dell'accordion possono mostrare uno sfondo primario al passaggio del mouse.

Per applicare lo sfondo primario agli elementi al passaggio del mouse, imposta l'attributo `background-hover` sull'elemento `it-accordion`.

<Canvas of={AccordionStories.HoverDegliHeader} />

## Icona a sinistra

L'icona di espansione/collasso può essere posizionata a sinistra del testo dell'header.

Per mostrare le icone plus/minus a sinistra invece della freccia a destra, imposta l'attributo `left-icon` sull'elemento `it-accordion`.

<Canvas of={AccordionStories.IconaASinistra} />

## Accordion annidati

È possibile annidare accordion all'interno di altri accordion per creare strutture gerarchiche complesse.
<div class="callout callout-warning">
<div class="callout-inner">
<div class="callout-title">
<span class="text">Accessibilità e accordion annidati</span>
</div>
<p>
Utilizzare questo approccio solo quando strettamente necessario: dal punto di vista dell'accessibilità non si tratta di una soluzione ottimale.
</p>
</div>
</div>
<Canvas of={AccordionStories.AccordionAnnidati} />

## Personalizzazione degli stili

Per la personalizzazione degli stili si possono usare i selettori `::part`:

- `::part(trigger)` - elemento trigger di ogni sezione
- `::part(content)` - elemento contenitore del corpo di ogni sezione

[Vedi qui la guida dettagliata](/docs/personalizzazione-degli-stili--documentazione#selettore-part).
