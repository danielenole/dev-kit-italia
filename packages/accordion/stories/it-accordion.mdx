import { Meta, Story, Canvas, Controls, Description, Subtitle } from '@storybook/addon-docs/blocks';
import * as AccordionStories from './it-accordion.stories';

<Meta of={AccordionStories} />

# Accordion

<description>Sezione di contenuti espandibile e richiudibile per ottimizzare spazio su pagina e creare collegamenti con contenuti correlati.</description>

Il componente accordion permette di espandere e collassare delle sezioni con contenuti molto lunghi e non principali. L’intestazione delle sezioni dà una panoramica dei contenuti e permette all’utente di scegliere quali leggere.

Il componente Accordion è basato su [Collapse](?path=/docs/componenti-collapse--documentazione) e permette di raggruppare più elementi collassabili in un'unica interfaccia.

[Approfondisci quando e come usare il componente Accordion](https://designers.italia.it/design-system/componenti/accordion/).

### Alternative a questo componente

- [Collapse](?path=/docs/componenti-collapse--documentazione): visivamente meno prominente, utile quando ci sono una o due sezioni di contenuti brevi meno importanti.

- Tabs: mostrano i contenuti senza spingere altre sezioni verso il fondo della pagina e sono utili quando l'utente deve passare velocemente da una sezone all'altra.




## Anteprima del componente
<Canvas of={AccordionStories.EsempioInterattivo} />

## Attributi
Gl attributi definiscono l'aspetto, il comportamento e il contenuto del componente.

Modificando questi valori puoi personalizzare come il componente si presenta o reagisce alle interazioni.
<Controls of={AccordionStories.EsempioInterattivo} />

## Accessibilità
L'accordion implementa le specifiche ARIA [WAI-ARIA Authoring Practices 1.1 accordion pattern](https://www.w3.org/WAI/ARIA/apg/patterns/accordion/) per garantire un'esperienza accessibile a tutti gli utenti:
- Navigazione da tastiera con tasti freccia per spostarsi tra gli elementi
- Supporto per `Space` e `Enter` per attivare/disattivare elementi
- Attributi ARIA appropriati per comunicare lo stato agli screen reader
- Heading semantici configurabili per una corretta struttura del documento
- Rispetto delle preferenze di riduzione del movimento definite dall'utente per le animazioni di apertura/chiusura

## Accordion Item
Il componente `it-accordion-item` rappresenta un singolo elemento accordion che deve essere utilizzato all'interno di un contenitore `it-accordion`.

### Attributi

- **`as`**: Il livello di heading (h2-h6) da utilizzare per l'header (opzionale, default: `h2`)
- **`default-open`**: Se true, l'elemento viene mostrato espanso (opzionale, default: `false`)

### Contenuto

L'intestazione dell'accordion item va inserita nello slot `heading` (intestazione dell'elemento).

Il contenuto dell'accordion item va inserito nello slot `content` (contenuto dell'elemento).

<Canvas of={AccordionStories.AccordionItem} />

## Modalità Esclusiva
Di default, più sezioni dell'accordion possono essere aperte contemporaneamente.

In modalità `single`, solo una sezione dell'accordion può essere aperta alla volta. Quando si apre una nuova sezione, quella precedentemente aperta si chiude automaticamente.

<Canvas of={AccordionStories.Single} />

## Accordion annidati

È possibile annidare accordion all'interno di altri accordion per creare strutture gerarchiche complesse.
<div class="callout callout-warning">
<div class="callout-inner">
<div class="callout-title">
<span class="text">Accessibilità e accordion annidati</span>
</div>
<p>
Utilizzare questo approccio solo quando strettamente necessario: dal punto di vista dell'accessibilità non si tratta di una soluzione ottimale.
</p>
</div>
</div>
<Canvas of={AccordionStories.AccordionAnnidati} />

## Header attivi

Gli header possono avere uno stile diverso quando la sezione corrispondente è attiva (aperta).

<Canvas of={AccordionStories.HeaderAttivi} />

## Hover degli header

Gli header possono avere effetti hover per migliorare l'interazione utente.

<Canvas of={AccordionStories.HoverDegliHeader} />

## Icona a sinistra

L'icona di espansione/collasso può essere posizionata a sinistra del testo dell'header.

<Canvas of={AccordionStories.IconaASinistra} />

## Personalizzazione degli stili

Per la personalizzazione degli stili si possono usare i selettori `::part`:

- `::part(trigger)` - elemento trigger di ogni sezione
- `::part(content)` - elemento contenitore del corpo di ogni sezione

[Vedi qui la guida dettagliata](/docs/personalizzazione-degli-stili--documentazione#selettore-part).
