import { Meta, Story, Canvas, Controls, Description, Subtitle } from '@storybook/addon-docs/blocks';
import * as AccordionStories from './it-accordion.stories';

<Meta of={AccordionStories} />

# Accordion

<description>Sezione di contenuti espandibile e richiudibile per ottimizzare spazio su pagina e creare collegamenti con contenuti correlati.</description>

## Cosa fa

Il componente Accordion permette di espandere e collassare delle sezioni con contenuti molto lunghi e non principali, raggruppandole in una unica interfaccia. L’intestazione delle sezioni dà una panoramica dei contenuti e permette all’utente di scegliere quali leggere.

Il componente Accordion è basato su [Collapse](?path=/docs/componenti-collapse--documentazione).

[Approfondisci quando e come usare il componente Accordion](https://designers.italia.it/design-system/componenti/accordion/)

### Alternative a questo componente

- [Collapse](?path=/docs/componenti-collapse--documentazione): visivamente meno prominente, utile quando ci sono una o due sezioni di contenuti brevi meno importanti.

- Tabs: mostrano i contenuti senza spingere altre sezioni verso il fondo della pagina e sono utili quando l'utente deve passare velocemente da una sezone all'altra.

## Anteprima e attributi del componente

Modifica gli attributi nella tabella per personalizzare in tempo reale l'aspetto e il comportamento del componente. Per vedere come cambia il codice, clicca su **Show code**.

<Canvas of={AccordionStories.EsempioInterattivo} />
<Controls of={AccordionStories.EsempioInterattivo} />

## Informazioni generali

Il componente Accordion è composto da due elementi:

- `it-accordion`: contenitore che raggruppa più elementi richiudibili;
- `it-accordion-item`: singolo elemento richiudibile all'interno dell'accordion.

## Elemento richiudibile

`it-accordion-item` rappresenta il singolo elemento richiudibile all'interno dell'accordion.

Ogni `it-accordion-item` utilizza due slot distinti per definire intestazione e contenuto:

- `slot="heading"`: **obbligatorio**, il testo da mostrare nell'header dell'elemento;
- `slot="content"`: **obbligatorio**, il contenuto da mostrare o nascondere.

Modifica gli attributi nella tabella per personalizzare in tempo reale l'aspetto e il comportamento del componente `it-accordion-item`. Per vedere come cambia il codice, clicca su **Show code**.

<Canvas of={AccordionStories.AccordionItem} />
<Controls of={AccordionStories.AccordionItem} />

## Accessibilità

L'Accordion implementa le specifiche ARIA [WAI-ARIA Authoring Practices 1.1 accordion pattern](https://www.w3.org/WAI/ARIA/apg/patterns/accordion/) per garantire un'esperienza accessibile a tutti gli utenti:

- navigazione da tastiera con tasti freccia per spostarsi tra gli elementi;
- supporto per `Space` e `Enter` per attivare/disattivare elementi;
- attributi ARIA appropriati per comunicare lo stato agli screen reader;
- heading semantici configurabili per una corretta struttura del documento;
- rispetto delle preferenze di riduzione del movimento definite dall'utente per le animazioni di apertura/chiusura.

## Modalità esclusiva

Di default, più sezioni dell'accordion possono essere aperte contemporaneamente.

In modalità esclusiva, solo una sezione alla volta dell'accordion può essere aperta. Quando si espande una nuova sezione, quella precedentemente aperta si chiude automaticamente.

Per abilitare la modalità esclusiva, assegna all'attributo `mode` il valore `single`.

<Canvas of={AccordionStories.Single} />

## Sfondo degli elementi attivi

Gli elementi dell'accordion possono mostrare uno sfondo primario quando la sezione corrispondente è attiva (aperta).

Per applicare lo sfondo primario agli elementi attivi, imposta l'attributo `background-active` sull'elemento `it-accordion`.

<Canvas of={AccordionStories.HeaderAttivi} />

## Sfondo all'hover degli elementi

Gli elementi dell'accordion possono mostrare uno sfondo primario al passaggio del mouse.

Per applicare lo sfondo primario agli elementi al passaggio del mouse, imposta l'attributo `background-hover` sull'elemento `it-accordion`.

<Canvas of={AccordionStories.HoverDegliHeader} />

## Icona a sinistra

L'icona di espansione/collasso può essere posizionata a sinistra del testo dell'header.

Impostando l'attributo `left-icon` sull'elemento `<it-accordion>`, puoi ottenere una variante in cui l’icona chevron che indica lo stato di apertura è sostituita da segni meno/più allineati a sinistra del titolo dell’header.

<Canvas of={AccordionStories.IconaASinistra} />

## Accordion annidati

Puoi annidare accordion all'interno di altri accordion per creare strutture gerarchiche complesse.

<div class="callout callout-warning">
<div class="callout-inner">
<div class="callout-title">
<span class="text">Accessibilità e accordion annidati</span>
</div>
<p>
Usa questo approccio solo quando strettamente necessario: dal punto di vista dell'accessibilità non si tratta di una soluzione ottimale.
</p>
</div>
</div>
<Canvas of={AccordionStories.AccordionAnnidati} />

## Personalizzazione degli stili

Per personalizzare gli stili, puoi usare i selettori `::part` dedicati:

- `::part(trigger)` - elemento trigger di ogni sezione;
- `::part(content)` - elemento contenitore del corpo di ogni sezione.

[Vai alla guida sui selettori part](/docs/personalizzazione-degli-stili--documentazione#selettore-part)
