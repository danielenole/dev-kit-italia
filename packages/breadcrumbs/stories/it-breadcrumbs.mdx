import { Meta, Story, Canvas, Controls, Description, Subtitle } from '@storybook/addon-docs/blocks';
import * as BreadcrumbsStories from './it-breadcrumbs.stories';

<Meta of={BreadcrumbsStories} />

# Breadcrumbs

<description>Indicatori di un percorso di navigazione gerarchico che aiuta gli utenti a comprendere la loro posizione all'interno di un sito e a tornare facilmente ai livelli precedenti</description>


## Cosa fa

Il componente Breadcrumbs (`it-breadcrumbs`) indica la posizione delle pagine all’interno del sito, utile quando i contenuti sono organizzati su più livelli e gli utenti hanno bisogno di spostarsi velocemente tra i vari livelli.

[Approfondisci quando e come usare il componente Breadcrumbs](https://designers.italia.it/design-system/componenti/breadcrumbs/)

### Alternative a questo componente
- Progress indicators: utile a indicare il progresso di un flusso transazionale lineare, come la richiesta di un servizio o un pagamento.


## Anteprima e attributi del componente

Modifica gli attributi nella tabella per personalizzare in tempo reale l’aspetto e il comportamento del componente. Per vedere come cambia il codice, clicca su <strong>Show code</strong>.

<Canvas of={BreadcrumbsStories.EsempioInterattivo} />
<Controls of={BreadcrumbsStories.EsempioInterattivo} />

## Indicazioni generali

Il componente `it-breadcrumbs` è il contenitore principale delle breadcrumbs e include uno o più elementi `it-breadcrumb-item`.
Il componente `it-breadcrumb-item` è un singolo elemento breadcrumb e va sempre usato come figlio di `it-breadcrumbs`.

Il componente `it-breadcrumb-item` espone i seguenti slot:
- **default**, per ogni singola voce delle breadcrumbs. Inserisci un normale link `<a>`, eventualmente accompagnato da altri elementi inline;
- **separator**, per l'elemento separatore personalizzato (ad esempio un'icona).

<div class="callout callout-warning">
  <div class="callout-inner">
    <div class="callout-title">
      <span class="text">Accessibilità e semantica</span>
    </div>
    <p>
      - Inserisci il testo descrittivo del link all'interno del tag `<a>` per garantire una corretta semantica e accessibilità.
    </p>
    <p>
      - Valorizza sempre l'attributo `href` per rendere il link effettivamente navigabile e semanticamente corretto.
    </p>
  </div>
</div>

## Accessibilità

Il componente Breadcrumbs implementa le specifiche ARIA [WAI-ARIA Authoring Practices 1.2 breadcrumbs](https://www.w3.org/WAI/ARIA/apg/patterns/breadcrumb/) per garantire un'esperienza accessibile a tutti gli utenti:
- fornisce automaticamente l'attributo `aria-current="page"` sull'ultimo elemento per indicare la pagina corrente agli screen reader;
- il separatore viene nascosto agli screen reader tramite `aria-hidden="true"` per evitare annunci ridondanti;
- usa elementi semantici (`<nav>`, `<ol>`, `<li>`) per una corretta struttura del documento.

<div class="callout callout-warning">
  <div class="callout-inner">
    <div class="callout-title">
      <span class="text">Nota sui test di accessibilità</span>
    </div>
    <p>
      Axe e altri strumenti di analisi statica possono segnalare falsi positivi quando analizzano il componente `it-breadcrumbs` a causa del limitato supporto per i Web Components. La struttura accessibile effettiva è corretta, come confermato dall'Accessibility Tree e dai test manuali con screen reader.
    </p>
  </div>
</div>


## Con icona

Per aggiungere un'icona a un elemento `it-breadcrumb-item`, inserisci un componente `it-icon` all'interno del tag `<a>`.

<Canvas of={BreadcrumbsStories.ConIcona} />

## Separatore personalizzato

Di default, il componente Breadcrumbs usa `/` come separatore tra gli elementi. Puoi personalizzarlo in due modi:
- utilizzando l'attributo `separator` su `it-breadcrumbs` (ad esempio, `>`);
- inserendo un elemento personalizzato (come un'icona) nello slot `separator` di ogni `it-breadcrumb-item`.

<Canvas of={BreadcrumbsStories.SeparatorePersonalizzato} />

## Sfondo scuro

Aggiungi l'attributo `dark` per utilizzare la versione delle breadcrumbs su sfondo scuro.

<div class="callout callout-warning">
  <div class="callout-inner">
    <div class="callout-title">
      <span class="text">Accessibilità e icone</span>
    </div>
    <p>
      Quando usi icone negli slot `separator` o come contenuto di un `it-breadcrumb-item` ricorda di impostare manualmente il colore appropriato in modo da garantire un contrasto che rispetti le linee guida di accessibilità.
    </p>
  </div>
</div>

<Canvas of={BreadcrumbsStories.Sfondo} />

## Personalizzazione degli stili

Per personalizzare gli stili, puoi usare i selettori `::part` dedicati:

- `::part(breadcrumbs-container)`, elemento `nav` che contiene le breadcrumbs;
- `::part(breadcrumbs)`, elemento `ol` che contiene le voci;
- `::part(breadcrumb-item)`, ogni singolo elemento `li` della lista;
- `::part(separator)`, elemento usato come separatore tra le voci.

[Vai alla guida sul selettore part](/docs/personalizzazione-degli-stili--documentazione#selettore-part)
